<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Screenless Hub</title>
</head>
<body>

<div class="mobile-container">
  <div id="screen-hub" class="screen active">
    <header>
      <span class="sub-text">Total Usage</span>
      <h1>5h 24m</h1>
    </header>

    <div class="card chart-container">
      <span class="label-text">Weekly Activity</span>
      <div class="graph-wrapper">
        <div class="bar" style="height: 40%"><span class="day">M</span></div>
        <div class="bar" style="height: 65%"><span class="day">T</span></div>
        <div class="bar" style="height: 85%"><span class="day">W</span></div>
        <div class="bar" style="height: 50%"><span class="day">T</span></div>
        <div class="bar active" style="height: 95%"><span class="day">F</span></div>
        <div class="bar" style="height: 30%"><span class="day">S</span></div>
        <div class="bar" style="height: 20%"><span class="day">S</span></div>
      </div>
    </div>

    <h3 class="section-title">App Breakdown</h3>
    <div class="app-list">
      <div class="card">
        <div class="card-info">
          <div class="icon-box">ğŸ“¸</div>
          <div><span class="label-text">Instagram</span><span class="sub-text">Social</span></div>
        </div>
        <span class="limit-value">2h 10m</span>
      </div>
      <div class="card">
        <div class="card-info">
          <div class="icon-box">ğŸ¬</div>
          <div><span class="label-text">YouTube</span><span class="sub-text">Video</span></div>
        </div>
        <span class="limit-value">1h 45m</span>
      </div>
      <div class="card">
        <div class="card-info">
          <div class="icon-box">ğŸ®</div>
          <div><span class="label-text">Roblox</span><span class="sub-text">Gaming</span></div>
        </div>
        <span class="limit-value">54m</span>
      </div>
    </div>
  </div>

  <div id="screen-limits" class="screen">
    <header><h1>Settings</h1></header>

    <div class="card">
      <div class="card-info">
        <div class="icon-box">â³</div>
        <div>
          <span class="label-text">Global Daily Limit</span>
          <span class="sub-text">Currently: <span id="display-global-limit">6h 00m</span></span>
        </div>
      </div>
      <input type="number" id="global-limit-input" placeholder="Hrs" style="width: 50px; background: #333; border: none; color: white; border-radius: 4px; padding: 5px;">
    </div>

    <h3 class="section-title">Manage App Limits</h3>
    <div id="settings-app-list">
    </div>

    <div class="card" style="border: 1px dashed var(--accent-green); background: transparent;">
      <div class="card-info" style="width: 100%;">
        <input type="text" id="new-app-name" placeholder="App Name" style="flex: 1; background: transparent; border: none; color: white;">
        <input type="number" id="new-app-time" placeholder="Mins" style="width: 60px; background: #333; border: none; color: white; padding: 5px; margin: 0 10px;">
        <button onclick="addAppLimit()" style="background: var(--primary-green); border: none; border-radius: 50%; width: 30px; height: 30px; color: white; cursor: pointer;">+</button>
      </div>
    </div>
  </div>

  <script>
    // State management
    let appLimits = [
      { name: 'Instagram', time: '2h 10m', icon: 'ğŸ“¸' },
      { name: 'YouTube', time: '1h 45m', icon: 'ğŸ¬' },
      { name: 'Roblox', time: '54m', icon: 'ğŸ®' }
    ];

    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');

      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
        if(item.getAttribute('onclick').includes(id)) item.classList.add('active');
      });

      if(id === 'screen-hub') renderHub();
      if(id === 'screen-limits') renderSettings();
    }

    // Update the Home Hub with current data
    function renderHub() {
      const list = document.querySelector('.app-list');
      list.innerHTML = appLimits.map(app => `
            <div class="card">
                <div class="card-info">
                    <div class="icon-box">${app.icon}</div>
                    <div><span class="label-text">${app.name}</span><span class="sub-text">Active Limit</span></div>
                </div>
                <span class="limit-value">${app.time}</span>
            </div>
        `).join('');
    }

    // Update the Settings screen
    function renderSettings() {
      const list = document.getElementById('settings-app-list');
      list.innerHTML = appLimits.map((app, index) => `
            <div class="card">
                <div class="card-info">
                    <span>${app.icon} ${app.name}</span>
                </div>
                <button onclick="removeLimit(${index})" style="background: none; border: none; color: var(--danger); cursor: pointer;">Remove</button>
            </div>
        `).join('');
    }

    function addAppLimit() {
      const nameInput = document.getElementById('new-app-name');
      const timeInput = document.getElementById('new-app-time');

      if (nameInput.value && timeInput.value) {
        appLimits.push({
          name: nameInput.value,
          time: timeInput.value + 'm',
          icon: 'ğŸ“±'
        });
        nameInput.value = '';
        timeInput.value = '';
        renderSettings();
      }
    }

    function removeLimit(index) {
      appLimits.splice(index, 1);
      renderSettings();
    }

    // Global limit listener
    document.getElementById('global-limit-input').addEventListener('change', (e) => {
      document.getElementById('display-global-limit').innerText = e.target.value + 'h 00m';
      document.querySelector('#screen-hub h1').innerText = e.target.value + 'h 00m';
    });

    // Initial render
    renderHub();
  </script>

  <div id="screen-permissions" class="screen">
    <header><h1>Permissions</h1></header>
    <div class="card">
      <div class="card-info">
        <div class="icon-box">ğŸ›¡ï¸</div>
        <div><span class="label-text">System Access</span><span class="sub-text">Required for tracking</span></div>
      </div>
      <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
    </div>
    <div class="card">
      <div class="card-info">
        <div class="icon-box">ğŸ“</div>
        <div><span class="label-text">Location</span><span class="sub-text">Usage by region</span></div>
      </div>
      <label class="switch"><input type="checkbox"><span class="slider"></span></label>
    </div>
  </div>

  <nav class="bottom-nav">
    <div class="nav-item" onclick="showScreen('screen-permissions')">
      <span class="nav-icon">ğŸ›¡ï¸</span>
      <span class="nav-label">Security</span>
    </div>
    <div class="nav-item active" onclick="showScreen('screen-hub')">
      <span class="nav-icon">ğŸ </span>
      <span class="nav-label">Home</span>
    </div>
    <div class="nav-item" onclick="showScreen('screen-limits')">
      <span class="nav-icon">âš™ï¸</span>
      <span class="nav-label">Settings</span>
    </div>
  </nav>
</div>

<script>
  function showScreen(id) {
    // Hide all screens
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    // Show selected screen
    document.getElementById(id).classList.add('active');

    // Update nav styling
    document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
    event.currentTarget.classList.add('active');
  }
</script>

</body>
</html>